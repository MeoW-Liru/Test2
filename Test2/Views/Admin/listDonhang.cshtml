@using Test2.Models
@using PagedList.Mvc;
@model PagedList.PagedList<DonHang>
@{
    ViewBag.Title = "listDonhang";
}

<div class="panel-body">
    <div class="row">
        <div class="col-lg-4">
            <div class="table-responsive">
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Ngày Tháng Năm</th>
                            <th>Doanh Thu</th>
                        </tr>
                    </thead>
                    <tbody class="table-light">
                        @foreach (var item in Model.GroupBy(y => y.NgayLap).Select(g => new
                        {
                        
                            Pla = g.Key,
                            Total = g.Sum(t => t.ThanhTien)
                        }))
                        {
                        <tr>
                            <td>
                                @item.Pla
                            </td>
                            <td>
                                @String.Format("{0:0,0}", item.Total) VNĐ
                            </td>
                        </tr>}
                    </tbody>
                </table>

                @*Chỗ này xuất ra hóa đơn hàng tháng*@
                <div class="pro-pagination-style">
                    Trang @(Model.PageCount<Model.PageNumber?0:Model.PageNumber)/@Model.PageCount
                    <ul>
                        @Html.PagedListPager(Model, page => Url.Action("BangDieuKhien", new { page = page }))
                    </ul>
                </div>


            </div>
            <!-- /.table-responsive -->
        </div>
        <!-- /.col-lg-4 (nested) -->
        <div class="col-lg-8">
            <div id="morris-bar-chart"></div>
        </div>
        <!-- /.col-lg-8 (nested) -->
    </div>
    <!-- /.row -->
</div>
